<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL恢复数据 | Bajins</title>
    <meta name="description" content="个人笔记">
    <link rel="icon" href="/UseNotes/logo.png">
  <link rel="manifest" href="/UseNotes/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/UseNotes/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/UseNotes/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/UseNotes/assets/css/0.styles.c215b91c.css" as="style"><link rel="preload" href="/UseNotes/assets/js/app.df798855.js" as="script"><link rel="preload" href="/UseNotes/assets/js/6.ea8fd82a.js" as="script"><link rel="preload" href="/UseNotes/assets/js/1.d044043e.js" as="script"><link rel="preload" href="/UseNotes/assets/js/42.1de8545e.js" as="script"><link rel="preload" href="/UseNotes/assets/js/7.d0caf8b0.js" as="script"><link rel="prefetch" href="/UseNotes/assets/js/10.e8dfa4e6.js"><link rel="prefetch" href="/UseNotes/assets/js/11.8dc9cd74.js"><link rel="prefetch" href="/UseNotes/assets/js/12.eea1ff6a.js"><link rel="prefetch" href="/UseNotes/assets/js/13.6d4983f6.js"><link rel="prefetch" href="/UseNotes/assets/js/14.ac18cdde.js"><link rel="prefetch" href="/UseNotes/assets/js/15.414585d0.js"><link rel="prefetch" href="/UseNotes/assets/js/16.cda60c32.js"><link rel="prefetch" href="/UseNotes/assets/js/17.a4ca055a.js"><link rel="prefetch" href="/UseNotes/assets/js/18.266f9727.js"><link rel="prefetch" href="/UseNotes/assets/js/19.a9370507.js"><link rel="prefetch" href="/UseNotes/assets/js/20.a73544c4.js"><link rel="prefetch" href="/UseNotes/assets/js/21.b94348f3.js"><link rel="prefetch" href="/UseNotes/assets/js/22.2cb5b65d.js"><link rel="prefetch" href="/UseNotes/assets/js/23.eb624246.js"><link rel="prefetch" href="/UseNotes/assets/js/24.54b4507a.js"><link rel="prefetch" href="/UseNotes/assets/js/25.b0b78548.js"><link rel="prefetch" href="/UseNotes/assets/js/26.e2f59dca.js"><link rel="prefetch" href="/UseNotes/assets/js/27.5cf3cc8e.js"><link rel="prefetch" href="/UseNotes/assets/js/28.2c4b2829.js"><link rel="prefetch" href="/UseNotes/assets/js/29.75a57e1c.js"><link rel="prefetch" href="/UseNotes/assets/js/30.e417779e.js"><link rel="prefetch" href="/UseNotes/assets/js/31.99ec76fe.js"><link rel="prefetch" href="/UseNotes/assets/js/32.855852a6.js"><link rel="prefetch" href="/UseNotes/assets/js/33.3f526f77.js"><link rel="prefetch" href="/UseNotes/assets/js/34.2458b5b1.js"><link rel="prefetch" href="/UseNotes/assets/js/35.2d217c98.js"><link rel="prefetch" href="/UseNotes/assets/js/36.4b4cfba1.js"><link rel="prefetch" href="/UseNotes/assets/js/37.7415c5e2.js"><link rel="prefetch" href="/UseNotes/assets/js/38.9e25ea61.js"><link rel="prefetch" href="/UseNotes/assets/js/39.33a2784c.js"><link rel="prefetch" href="/UseNotes/assets/js/4.e405cab1.js"><link rel="prefetch" href="/UseNotes/assets/js/40.6a5e1609.js"><link rel="prefetch" href="/UseNotes/assets/js/41.2913dea4.js"><link rel="prefetch" href="/UseNotes/assets/js/43.e2baee9a.js"><link rel="prefetch" href="/UseNotes/assets/js/44.88fa3b97.js"><link rel="prefetch" href="/UseNotes/assets/js/45.77ab60ac.js"><link rel="prefetch" href="/UseNotes/assets/js/46.1db2f55d.js"><link rel="prefetch" href="/UseNotes/assets/js/47.a41a9130.js"><link rel="prefetch" href="/UseNotes/assets/js/48.c4620fe8.js"><link rel="prefetch" href="/UseNotes/assets/js/49.8661bc08.js"><link rel="prefetch" href="/UseNotes/assets/js/5.fb3e9161.js"><link rel="prefetch" href="/UseNotes/assets/js/50.e4413188.js"><link rel="prefetch" href="/UseNotes/assets/js/51.be3324c1.js"><link rel="prefetch" href="/UseNotes/assets/js/52.30e78db7.js"><link rel="prefetch" href="/UseNotes/assets/js/53.2b378136.js"><link rel="prefetch" href="/UseNotes/assets/js/54.9256204d.js"><link rel="prefetch" href="/UseNotes/assets/js/55.7d547168.js"><link rel="prefetch" href="/UseNotes/assets/js/56.2192d236.js"><link rel="prefetch" href="/UseNotes/assets/js/57.ac4efe53.js"><link rel="prefetch" href="/UseNotes/assets/js/58.59e4daac.js"><link rel="prefetch" href="/UseNotes/assets/js/59.e53df118.js"><link rel="prefetch" href="/UseNotes/assets/js/60.d27438ef.js"><link rel="prefetch" href="/UseNotes/assets/js/61.6cea833b.js"><link rel="prefetch" href="/UseNotes/assets/js/62.beab5add.js"><link rel="prefetch" href="/UseNotes/assets/js/63.898ae8b2.js"><link rel="prefetch" href="/UseNotes/assets/js/64.fa3ba945.js"><link rel="prefetch" href="/UseNotes/assets/js/65.aa8132d7.js"><link rel="prefetch" href="/UseNotes/assets/js/66.a00d8e39.js"><link rel="prefetch" href="/UseNotes/assets/js/67.5f68ceb1.js"><link rel="prefetch" href="/UseNotes/assets/js/68.dc894dc7.js"><link rel="prefetch" href="/UseNotes/assets/js/69.4b78cf8f.js"><link rel="prefetch" href="/UseNotes/assets/js/70.c029f0dd.js"><link rel="prefetch" href="/UseNotes/assets/js/71.5dec2538.js"><link rel="prefetch" href="/UseNotes/assets/js/72.feead41a.js"><link rel="prefetch" href="/UseNotes/assets/js/73.80458a23.js"><link rel="prefetch" href="/UseNotes/assets/js/74.7e366f69.js"><link rel="prefetch" href="/UseNotes/assets/js/75.ce319ae4.js"><link rel="prefetch" href="/UseNotes/assets/js/76.0c6f4deb.js"><link rel="prefetch" href="/UseNotes/assets/js/77.6c8fc16d.js"><link rel="prefetch" href="/UseNotes/assets/js/78.b8738ed7.js"><link rel="prefetch" href="/UseNotes/assets/js/79.83c07c4b.js"><link rel="prefetch" href="/UseNotes/assets/js/8.31680628.js"><link rel="prefetch" href="/UseNotes/assets/js/80.c4d83d3a.js"><link rel="prefetch" href="/UseNotes/assets/js/81.4348dd54.js"><link rel="prefetch" href="/UseNotes/assets/js/82.02054b72.js"><link rel="prefetch" href="/UseNotes/assets/js/83.8273a50e.js"><link rel="prefetch" href="/UseNotes/assets/js/84.1624bb34.js"><link rel="prefetch" href="/UseNotes/assets/js/85.078678e8.js"><link rel="prefetch" href="/UseNotes/assets/js/86.c2ddde96.js"><link rel="prefetch" href="/UseNotes/assets/js/87.8f71afb4.js"><link rel="prefetch" href="/UseNotes/assets/js/88.845d8728.js"><link rel="prefetch" href="/UseNotes/assets/js/9.7dbd2060.js"><link rel="prefetch" href="/UseNotes/assets/js/vendors~flowchart.795428e4.js">
    <link rel="stylesheet" href="/UseNotes/assets/css/0.styles.c215b91c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container"><div><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/UseNotes/" class="home-link router-link-active"><img src="/UseNotes/logo.png" alt="Bajins" class="logo"> <span class="site-name">Bajins</span></a> <div class="links"><div class="color-picker"><a href="#" class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox" checked="checked"></div></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/UseNotes/Android/" class="nav-link"><i class="iconfont undefined"></i>
  Android
</a></div><div class="nav-item"><a href="/UseNotes/Golang/" class="nav-link"><i class="iconfont undefined"></i>
  Golang
</a></div><div class="nav-item"><a href="/UseNotes/IDE/" class="nav-link"><i class="iconfont undefined"></i>
  IDE
</a></div><div class="nav-item"><a href="/UseNotes/IOS/" class="nav-link"><i class="iconfont undefined"></i>
  IOS
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      JAVA
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UseNotes/JAVA/" class="nav-link"><i class="iconfont undefined"></i>
  JAVA
</a></li><li class="dropdown-item"><!----> <a href="/UseNotes/JAVA/API/" class="nav-link"><i class="iconfont undefined"></i>
  API
</a></li></ul></div></div><div class="nav-item"><a href="/UseNotes/MySql/" class="nav-link"><i class="iconfont undefined"></i>
  MySql
</a></div><div class="nav-item"><a href="/UseNotes/Python/" class="nav-link"><i class="iconfont undefined"></i>
  Python
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      VPS
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UseNotes/VPS/" class="nav-link"><i class="iconfont undefined"></i>
  VPS
</a></li><li class="dropdown-item"><!----> <a href="/UseNotes/VPS/script/" class="nav-link"><i class="iconfont undefined"></i>
  脚本
</a></li><li class="dropdown-item"><!----> <a href="/UseNotes/VPS/Docker/" class="nav-link"><i class="iconfont undefined"></i>
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      WEB
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UseNotes/WEB/" class="nav-link"><i class="iconfont undefined"></i>
  WEB
</a></li><li class="dropdown-item"><!----> <a href="/UseNotes/WEB/JavaScript/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/UseNotes/other/" class="nav-link"><i class="iconfont undefined"></i>
  other
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      了解更多
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://v1.vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  VuePress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/googlehosts/hosts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Google Hosts
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><h4>Markdown</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/UseNotes/Markdown编辑器.html" class="nav-link"><i class="iconfont undefined"></i>
  Markdown编辑器
</a></li><li class="dropdown-subitem"><a href="https://readthedocs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  从仓库生成文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/UseNotes/README语法.html" class="nav-link"><i class="iconfont undefined"></i>
  Markdown语法
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      个人导航
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://bajins.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  个人主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://git.woetu.com/clater/UseNotes" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  备份库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://file.woytu.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  绿色网盘
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://book.bajins.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  GO小说
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://woetu.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  WeChat小程序
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/woytu/UseNotes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/UseNotes/Android/" class="nav-link"><i class="iconfont undefined"></i>
  Android
</a></div><div class="nav-item"><a href="/UseNotes/Golang/" class="nav-link"><i class="iconfont undefined"></i>
  Golang
</a></div><div class="nav-item"><a href="/UseNotes/IDE/" class="nav-link"><i class="iconfont undefined"></i>
  IDE
</a></div><div class="nav-item"><a href="/UseNotes/IOS/" class="nav-link"><i class="iconfont undefined"></i>
  IOS
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      JAVA
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UseNotes/JAVA/" class="nav-link"><i class="iconfont undefined"></i>
  JAVA
</a></li><li class="dropdown-item"><!----> <a href="/UseNotes/JAVA/API/" class="nav-link"><i class="iconfont undefined"></i>
  API
</a></li></ul></div></div><div class="nav-item"><a href="/UseNotes/MySql/" class="nav-link"><i class="iconfont undefined"></i>
  MySql
</a></div><div class="nav-item"><a href="/UseNotes/Python/" class="nav-link"><i class="iconfont undefined"></i>
  Python
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      VPS
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UseNotes/VPS/" class="nav-link"><i class="iconfont undefined"></i>
  VPS
</a></li><li class="dropdown-item"><!----> <a href="/UseNotes/VPS/script/" class="nav-link"><i class="iconfont undefined"></i>
  脚本
</a></li><li class="dropdown-item"><!----> <a href="/UseNotes/VPS/Docker/" class="nav-link"><i class="iconfont undefined"></i>
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      WEB
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UseNotes/WEB/" class="nav-link"><i class="iconfont undefined"></i>
  WEB
</a></li><li class="dropdown-item"><!----> <a href="/UseNotes/WEB/JavaScript/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/UseNotes/other/" class="nav-link"><i class="iconfont undefined"></i>
  other
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      了解更多
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://v1.vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  VuePress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/googlehosts/hosts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Google Hosts
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><h4>Markdown</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/UseNotes/Markdown编辑器.html" class="nav-link"><i class="iconfont undefined"></i>
  Markdown编辑器
</a></li><li class="dropdown-subitem"><a href="https://readthedocs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  从仓库生成文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/UseNotes/README语法.html" class="nav-link"><i class="iconfont undefined"></i>
  Markdown语法
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      个人导航
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://bajins.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  个人主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://git.woetu.com/clater/UseNotes" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  备份库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://file.woytu.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  绿色网盘
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://book.bajins.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  GO小说
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://woetu.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  WeChat小程序
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/woytu/UseNotes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/UseNotes/MySQL/" class="sidebar-link">MySQL</a></li><li><a href="/UseNotes/MySQL/MySQL-binlog2sql恢复数据.html" class="active sidebar-link">MySQL恢复数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/UseNotes/MySQL/MySQL-binlog2sql恢复数据.html#目录" class="sidebar-link">目录</a></li><li class="sidebar-sub-header"><a href="/UseNotes/MySQL/MySQL-binlog2sql恢复数据.html#mysql误操作通过binlog2sql恢复数据" class="sidebar-link">MySQL误操作通过binlog2sql恢复数据</a></li><li class="sidebar-sub-header"><a href="/UseNotes/MySQL/MySQL-binlog2sql恢复数据.html#第一步如果没有安装开源工具binlog2sql那么请安装。" class="sidebar-link">第一步如果没有安装开源工具binlog2sql那么请安装。</a></li><li class="sidebar-sub-header"><a href="/UseNotes/MySQL/MySQL-binlog2sql恢复数据.html#查看目前的binlog文件" class="sidebar-link">查看目前的binlog文件</a></li><li class="sidebar-sub-header"><a href="/UseNotes/MySQL/MySQL-binlog2sql恢复数据.html#方式一：" class="sidebar-link">方式一：</a></li><li class="sidebar-sub-header"><a href="/UseNotes/MySQL/MySQL-binlog2sql恢复数据.html#方式二：" class="sidebar-link">方式二：</a></li><li class="sidebar-sub-header"><a href="/UseNotes/MySQL/MySQL-binlog2sql恢复数据.html#用mysqldump备份" class="sidebar-link">用mysqldump备份</a></li><li class="sidebar-sub-header"><a href="/UseNotes/MySQL/MySQL-binlog2sql恢复数据.html#mysql-mysqldump导入导出-结构，数据，存储过程，函数，事件，触发器" class="sidebar-link">MySQL mysqldump导入导出 结构，数据，存储过程，函数，事件，触发器</a></li></ul></li><li><a href="/UseNotes/MySQL/MySQL主从同步.html" class="sidebar-link">MySQL主从同步</a></li><li><a href="/UseNotes/MySQL/MySQL事件.html" class="sidebar-link">MySQL事件</a></li><li><a href="/UseNotes/MySQL/MySQL存储过程.html" class="sidebar-link">存储过程</a></li><li><a href="/UseNotes/MySQL/MySQL异常捕获处理.html" class="sidebar-link">MySQL异常捕获处理</a></li><li><a href="/UseNotes/MySQL/MySQL循环.html" class="sidebar-link">MySQL循环</a></li><li><a href="/UseNotes/MySQL/MySQL数据库信息.html" class="sidebar-link">MySQL数据库信息</a></li><li><a href="/UseNotes/MySQL/MySQL时间函数.html" class="sidebar-link">MySQL时间函数</a></li><li><a href="/UseNotes/MySQL/MySQL用户管理.html" class="sidebar-link">MySQL用户管理</a></li><li><a href="/UseNotes/MySQL/MySQL配置.html" class="sidebar-link">MySQL配置</a></li><li><a href="/UseNotes/MySQL/优化语句.html" class="sidebar-link">优化语句</a></li><li><a href="/UseNotes/MySQL/常见问题解决.html" class="sidebar-link">MySQL使用中常见的问题解决方法</a></li></ul> </aside> <div><main class="page reco-hide"> <div class="page-title"><h1>MySQL恢复数据</h1> <hr> <div data-v-0b496ca7><i class="iconfont reco-account" data-v-0b496ca7><span data-v-0b496ca7>Bajins</span></i> <!----> <span id="/UseNotes/MySQL/MySQL-binlog2sql%E6%81%A2%E5%A4%8D%E6%95%B0%E6%8D%AE.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-a030e6b4 data-v-0b496ca7><i class="iconfont reco-eye" style="margin-right: .5rem" data-v-a030e6b4></i> <a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;" data-v-a030e6b4></a></span> <!----></div></div> <div class="content default"><h1 id="mysql恢复数据"><a href="#mysql恢复数据" aria-hidden="true" class="header-anchor">#</a> MySQL恢复数据</h1> <h2 id="目录"><a href="#目录" aria-hidden="true" class="header-anchor">#</a> 目录</h2> <ul><li><a href="#1">MySQL误操作通过binlog2sql恢复数据</a></li> <li><a href="#2">MySQL备份</a></li></ul> <hr> <h6 id="_1"><a href="#_1" aria-hidden="true" class="header-anchor">#</a> 1</h6> <h2 id="mysql误操作通过binlog2sql恢复数据"><a href="#mysql误操作通过binlog2sql恢复数据" aria-hidden="true" class="header-anchor">#</a> MySQL误操作通过binlog2sql恢复数据</h2> <h3 id="使用此方式之前一定是mysql开启了bin-log的才可行"><a href="#使用此方式之前一定是mysql开启了bin-log的才可行" aria-hidden="true" class="header-anchor">#</a> 使用此方式之前一定是MySQL开启了bin-log的才可行</h3> <h2 id="第一步如果没有安装开源工具binlog2sql那么请安装。"><a href="#第一步如果没有安装开源工具binlog2sql那么请安装。" aria-hidden="true" class="header-anchor">#</a> 第一步如果没有安装开源工具binlog2sql那么请安装。</h2> <h4 id="binlog2sql的使用详情：https-github-com-danfengcao-binlog2sql"><a href="#binlog2sql的使用详情：https-github-com-danfengcao-binlog2sql" aria-hidden="true" class="header-anchor">#</a> binlog2sql的使用详情：https://github.com/danfengcao/binlog2sql</h4> <h3 id="binlog2sql是一款简单易用的binlog解析工具，其中一个功能就是生成回滚sql。"><a href="#binlog2sql是一款简单易用的binlog解析工具，其中一个功能就是生成回滚sql。" aria-hidden="true" class="header-anchor">#</a> binlog2sql是一款简单易用的binlog解析工具，其中一个功能就是生成回滚SQL。</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">git</span> clone https://github.com/danfengcao/binlog2sql.git
<span class="token function">cd</span> binlog2sql/
pip <span class="token function">install</span> -r requirements.txt
</code></pre></div><h3 id="mysql-server必须设置以下参数"><a href="#mysql-server必须设置以下参数" aria-hidden="true" class="header-anchor">#</a> MySQL server必须设置以下参数:</h3> <div class="language-sehll extra-class"><pre class="language-text"><code>[mysqld]
server_id = 1
log_bin = /var/log/mysql/mysql-bin.log
max_binlog_size = 1G
binlog_format = row
binlog_row_image = full
</code></pre></div><h3 id="user需要的最小权限集合："><a href="#user需要的最小权限集合：" aria-hidden="true" class="header-anchor">#</a> user需要的最小权限集合：</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span><span class="token punctuation">,</span> super<span class="token operator">/</span><span class="token keyword">replication</span> client<span class="token punctuation">,</span> <span class="token keyword">replication</span> slave
<span class="token comment">#建议授权</span>
<span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span> <span class="token keyword">REPLICATION</span> SLAVE<span class="token punctuation">,</span> <span class="token keyword">REPLICATION</span> CLIENT <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> 
</code></pre></div><h2 id="查看目前的binlog文件"><a href="#查看目前的binlog文件" aria-hidden="true" class="header-anchor">#</a> 查看目前的binlog文件</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">show</span> master logs<span class="token punctuation">;</span>
</code></pre></div><h3 id="查询结果："><a href="#查询结果：" aria-hidden="true" class="header-anchor">#</a> 查询结果：</h3> <table><thead><tr><th>Log_name</th> <th>File_size</th></tr></thead> <tbody><tr><td>mysql-bin.000001</td> <td>177</td></tr> <tr><td>mysql-bin.000002</td> <td>437</td></tr> <tr><td>mysql-bin.000003</td> <td>685</td></tr> <tr><td>mysql-bin.000004</td> <td>1702399</td></tr> <tr><td>mysql-bin.000005</td> <td>963964</td></tr> <tr><td>mysql-bin.000006</td> <td>13118637</td></tr> <tr><td>mysql-bin.000007</td> <td>26765043</td></tr></tbody></table> <h3 id="可以看到最新的binlog文件是mysql-bin-000007，我们再定位误操作sql的binlog位置"><a href="#可以看到最新的binlog文件是mysql-bin-000007，我们再定位误操作sql的binlog位置" aria-hidden="true" class="header-anchor">#</a> 可以看到最新的binlog文件是mysql-bin.000007，我们再定位误操作SQL的binlog位置</h3> <h4 id="binlog2sql-py文件在binlog2sql-binlog2sql-文件夹下"><a href="#binlog2sql-py文件在binlog2sql-binlog2sql-文件夹下" aria-hidden="true" class="header-anchor">#</a> binlog2sql.py文件在binlog2sql/binlog2sql/ 文件夹下</h4> <h4 id="如果命令最后不加时间可输出最近操作的sql命令"><a href="#如果命令最后不加时间可输出最近操作的sql命令" aria-hidden="true" class="header-anchor">#</a> 如果命令最后不加时间可输出最近操作的SQL命令</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>python binlog2sql/binlog2sql.py -h127.0.0.1 -P端口 -u账号 -p<span class="token string">'密码'</span> -d数据库 -t表 --start-file<span class="token operator">=</span><span class="token string">'binlog文件'</span> --start-datetime<span class="token operator">=</span><span class="token string">'之前误操作的SQL执行开始时间'</span> --stop-datetime<span class="token operator">=</span><span class="token string">'之前误操作的SQL执行结束时间'</span>
</code></pre></div><h3 id="当程序跑完之后看最后一条数据最末尾："><a href="#当程序跑完之后看最后一条数据最末尾：" aria-hidden="true" class="header-anchor">#</a> 当程序跑完之后看最后一条数据最末尾：</h3> <h4 id="start-5117865-end-13679060-time-2018-06-12-10-07-53"><a href="#start-5117865-end-13679060-time-2018-06-12-10-07-53" aria-hidden="true" class="header-anchor">#</a> #start 5117865 end 13679060 time 2018-06-12 10:07:53</h4> <h4 id="开始位置（start-5117865）和结束位置（end-13679060）"><a href="#开始位置（start-5117865）和结束位置（end-13679060）" aria-hidden="true" class="header-anchor">#</a> 开始位置（start 5117865）和结束位置（end 13679060）</h4> <p><img src="/images/MySQL_binlog.png" alt=""></p> <h2 id="方式一："><a href="#方式一：" aria-hidden="true" class="header-anchor">#</a> 方式一：</h2> <h3 id="rollback-sql文件，并检查回滚sql是否正确"><a href="#rollback-sql文件，并检查回滚sql是否正确" aria-hidden="true" class="header-anchor">#</a> rollback.sql文件，并检查回滚SQL是否正确</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>python binlog2sql/binlog2sql.py -h127.0.0.1 -P端口 -u账号 -p<span class="token string">'密码'</span> -d数据库 -t表 --start-file<span class="token operator">=</span><span class="token string">'binlog文件'</span> --start-position<span class="token operator">=</span>开始位置 --stop-position<span class="token operator">=</span>结束位置 -B <span class="token operator">&gt;</span> rollback.sql
</code></pre></div><h3 id="查看当前文件夹下是否生成了rollback-sql文件-确认回滚sql正确，如果有就执行回滚"><a href="#查看当前文件夹下是否生成了rollback-sql文件-确认回滚sql正确，如果有就执行回滚" aria-hidden="true" class="header-anchor">#</a> 查看当前文件夹下是否生成了rollback.sql文件,确认回滚SQL正确，如果有就执行回滚</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>mysql -h127.0.0.1 -P端口 -u账号 -p<span class="token string">'密码'</span> <span class="token operator">&lt;</span> rollback.sql
</code></pre></div><h2 id="方式二："><a href="#方式二：" aria-hidden="true" class="header-anchor">#</a> 方式二：</h2> <h3 id="不生成rollback-sql文件，执行命令后在输出中检查回滚sql是否正确"><a href="#不生成rollback-sql文件，执行命令后在输出中检查回滚sql是否正确" aria-hidden="true" class="header-anchor">#</a> 不生成rollback.sql文件，执行命令后在输出中检查回滚SQL是否正确</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>python binlog2sql/binlog2sql.py -h127.0.0.1 -P端口 -u账号 -p<span class="token string">'密码'</span> -d数据库 -t表 --start-file<span class="token operator">=</span><span class="token string">'binlog文件'</span> --start-position<span class="token operator">=</span>开始位置 --stop-position<span class="token operator">=</span>结束位置 -B
</code></pre></div><h3 id="确认回滚sql正确，执行回滚语句。登录mysql确认，数据回滚成功。"><a href="#确认回滚sql正确，执行回滚语句。登录mysql确认，数据回滚成功。" aria-hidden="true" class="header-anchor">#</a> 确认回滚SQL正确，执行回滚语句。登录MySQL确认，数据回滚成功。</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>python binlog2sql/binlog2sql.py -h127.0.0.1 -P端口 -u账号 -p<span class="token string">'密码'</span> -d数据库 -t表 --start-file<span class="token operator">=</span><span class="token string">'binlog文件'</span> --start-position<span class="token operator">=</span>开始位置 --stop-position<span class="token operator">=</span>结束位置 -B <span class="token operator">|</span> mysql -h127.0.0.1 -P端口 -u账号 -p<span class="token string">'密码'</span>
</code></pre></div><hr> <h6 id="_2"><a href="#_2" aria-hidden="true" class="header-anchor">#</a> 2</h6> <h1 id="mysql备份-返回顶部"><a href="#mysql备份-返回顶部" aria-hidden="true" class="header-anchor">#</a> MySQL备份 <a href="#readme">返回顶部</a></h1> <h2 id="用mysqldump备份"><a href="#用mysqldump备份" aria-hidden="true" class="header-anchor">#</a> 用mysqldump备份</h2> <blockquote><p>如果是在本机上备份本机的数据库地址和端口可以不要，如果是在本机上备份其他主机上的数据库就需要地址和端口
mysqldump命令需要手动输入密码，所以一般不输入<code>-p</code>参数</p></blockquote> <h3 id="参数说明"><a href="#参数说明" aria-hidden="true" class="header-anchor">#</a> 参数说明</h3> <blockquote><p>-d 结构(--no-data:不导出任何数据，只导出数据库表结构)</p></blockquote> <blockquote><p>-t 数据(--no-create-info:只导出数据，而不添加CREATE TABLE 语句)</p></blockquote> <blockquote><p>-n (--no-create-db:只导出数据，而不添加CREATE DATABASE 语句）</p></blockquote> <blockquote><p>-R (--routines:导出存储过程以及自定义函数)</p></blockquote> <blockquote><p>-E (--events:导出事件)</p></blockquote> <blockquote><p>--triggers (默认导出触发器，使用--skip-triggers屏蔽导出)</p></blockquote> <blockquote><p>-B (--databases:导出数据库列表，单个库时可省略）</p></blockquote> <blockquote><p>--tables 表列表（单个表时可省略）</p></blockquote> <blockquote><blockquote><p>①同时导出结构以及数据时可同时省略-d和-t</p></blockquote></blockquote> <blockquote><blockquote><p>②同时不导出结构和数据可使用-ntd</p></blockquote></blockquote> <blockquote><blockquote><p>③只导出存储过程和函数可使用-R -ntd</p></blockquote></blockquote> <blockquote><blockquote><p>④导出所有(结构&amp;数据&amp;存储过程&amp;函数&amp;事件&amp;触发器)使用-R -E(相当于①，省略了-d -t;触发器默认导出)</p></blockquote></blockquote> <blockquote><blockquote><p>⑤只导出结构&amp;函数&amp;事件&amp;触发器使用 -R -E -d</p></blockquote></blockquote> <h3 id="导出"><a href="#导出" aria-hidden="true" class="header-anchor">#</a> 导出</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 只导出结构&amp;函数&amp;事件&amp;触发器使用</span>
mysqldump -R -E -d -h需要备份的主机地址 -P端口 -u用户名 -p 数据库名 <span class="token operator">&gt;</span> /home/backup.sql

<span class="token comment"># 只导出存储过程和函数可使用</span>
mysqldump -R -ntd -h需要备份的主机地址 -P端口 -u用户名 -p 数据库名 <span class="token operator">&gt;</span> /home/backup.sql

<span class="token comment"># 导出单个数据库中所有(结构&amp;数据&amp;存储过程&amp;函数&amp;事件&amp;触发器)到sql文件</span>
mysqldump -R -E -h需要备份的主机地址 -P端口 -u用户名 -p 数据库名 <span class="token operator">&gt;</span> /home/backup.sql

<span class="token comment"># mysqldump 备份并压缩sql文件</span>
mysqldump -R -E -h主机地址 -P端口 -u用户名 -p 数据库名 <span class="token operator">|</span> <span class="token function">gzip</span> <span class="token operator">&gt;</span> /home/backup.sql.gz

<span class="token comment"># 备份所有的数据库到一个sql文件</span>
mysqldump -R -E -h主机地址 -P端口 -u用户名 -p --all-databases <span class="token operator">&gt;</span> /home/all.sql
</code></pre></div><h3 id="导入"><a href="#导入" aria-hidden="true" class="header-anchor">#</a> 导入</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 用mysqldump导入本地sql文件</span>
mysqldump -h主机地址 -P端口 -u用户名 数据库名 <span class="token operator">&lt;</span> /home/backup.sql

<span class="token comment"># mysql直接用压缩文件恢复</span>
gunzip <span class="token operator">&lt;</span> backup.sql.gz <span class="token operator">|</span> mysql -h主机地址 -P端口 -u用户名 -p密码 数据库名

<span class="token comment"># mysql从本地sql文件导入</span>
mysql -h主机地址 -P端口 -u用户名 -p密码 数据库名 <span class="token operator">&lt;</span> backupfile.sql

<span class="token comment"># 登录MySQL用source命令导入本地sql文件</span>
<span class="token comment"># 指定数据库</span>
use 数据库名<span class="token punctuation">;</span>
<span class="token comment"># 导入数据（注意sql文件的路径）</span>
<span class="token function">source</span> /home/backup.sql<span class="token punctuation">;</span>

</code></pre></div><h3 id="mysqldump两台主机同步备份"><a href="#mysqldump两台主机同步备份" aria-hidden="true" class="header-anchor">#</a> mysqldump两台主机同步备份</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>mysqldump -R -E -h导出的主机地址 -P端口 -u用户名 -p 数据库名 <span class="token operator">|</span> mysql -h导入的主机地址 -P端口 -u用户名 -p密码 -C 数据库名
</code></pre></div><blockquote><p>--opt等同于--add-drop-table，--add-locks，--create-options，--quick，--extended-insert，--lock-tables，--set-charset，--disable-keys。
该选项默认开启， 可以用--skip-opt禁用。</p> <blockquote><p>1、--opt 在创建表结构之前 会有 DROP TABLE IF EXISTS</p></blockquote></blockquote> <blockquote><blockquote><p>2、原表在创建的时候指定了AUTO_INCREMENT，在使用了--opt 仍然和建表时候一样存在参数，在使用参数--skip-opt的时候，忽略了此参数AUTO_INCREMENT</p></blockquote></blockquote> <blockquote><blockquote><p>3、在使用参数--opt的时候，创建表的类型，字符集等等都是默认参数ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;当使用了--skip-opt的时候，这些参数都给忽略了</p></blockquote></blockquote> <blockquote><blockquote><p>4、导出原表中的数据，--opt是一个insert多个value，在使用了--skip-opt的时候，是多个insert组成的；</p></blockquote></blockquote> <h4 id="mysqldump数据导出参数说明"><a href="#mysqldump数据导出参数说明" aria-hidden="true" class="header-anchor">#</a> <a href="https://blog.csdn.net/hao7030187/article/details/77839968" target="_blank" rel="noopener noreferrer">mysqldump数据导出参数说明<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <h4 id="mysqldump数据导出参数说明-2"><a href="#mysqldump数据导出参数说明-2" aria-hidden="true" class="header-anchor">#</a> <a href="http://www.cnblogs.com/chenmh/p/5300370.html" target="_blank" rel="noopener noreferrer">mysqldump数据导出参数说明<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <h3 id="导出导入脚本"><a href="#导出导入脚本" aria-hidden="true" class="header-anchor">#</a> <a href="/VPS/script/MySQL_Backup.sh">导出导入脚本</a></h3> <h2 id="mysql-mysqldump导入导出-结构，数据，存储过程，函数，事件，触发器"><a href="#mysql-mysqldump导入导出-结构，数据，存储过程，函数，事件，触发器" aria-hidden="true" class="header-anchor">#</a> MySQL mysqldump导入导出 结构，数据，存储过程，函数，事件，触发器</h2> <p>-------------------------数据库操作-----------------------------</p> <div class="language- extra-class"><pre class="language-text"><code>1.①导出一个库结构

mysqldump -d dbname -u root -p &gt; xxx.sql

②导出多个库结构

mysqldump -d -B dbname1 dbname2 -u root -p &gt; xxx.sql

2.①导出一个库数据

mysqldump -t dbname -u root -p &gt; xxx.sql

②导出多个库数据

mysqldump -t -B dbname1 dbname2 -u root -p &gt; xxx.sql
 

3.①导出一个库结构以及数据

mysqldump dbname1 -u root -p &gt; xxx.sql

②导出多个库结构以及数据

mysqldump -B dbname1 dbname2 -u root -p &gt; xxx.sql

-------------------------数据表操作-----------------------------

4.①导出一个表结构

mysqldump -d dbname1 tablename1 -u root -p &gt; xxx.sql

②导出多个表结构

mysqldump -d -B dbname1 --tables tablename1 tablename2 -u root -p &gt; xxx.sql
 

5.①导出一个表数据

mysqldump -t dbname1 tablename1 -u root -p &gt; xxx.sql

②导出多个表数据

mysqldump -d -B dbname1 --tables tablename1 tablename2 -u root -p &gt; xxx.sql
 

6.①导出一个表结构以及数据

mysqldump dbname1 tablename1 -u root -p &gt; xxx.sql

②导出多个表结构以及数据

mysqldump -B dbname1 --tables tablename1 tablename2 -u root -p &gt; xxx.sql

-------------------------存储过程、函数操作-----------------------------

7.只导出存储过程和函数(不导出结构和数据，要同时导出结构的话，需要同时使用-d)

mysqldump -R -ndt dbname1 -u root -p &gt; xxx.sql
 
-------------------------事件操作-----------------------------
8.只导出事件

mysqldump -E -ndt dbname1 -u root -p &gt; xxx.sql
 
-------------------------触发器操作-----------------------------

9.不导出触发器（触发器是默认导出的–triggers，使用–skip-triggers屏蔽导出触发器）

mysqldump --skip-triggers dbname1 -u root -p &gt; xxx.sql
</code></pre></div><h1 id="返回顶部"><a href="#返回顶部" aria-hidden="true" class="header-anchor">#</a> <a href="#readme">返回顶部</a></h1></div> <!----> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/woytu/UseNotes/edit/master//MySQL/MySQL-binlog2sql恢复数据.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">5/8/2019, 9:33:58 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/UseNotes/MySQL/" class="prev router-link-active">
          MySQL
        </a></span> <span class="next"><a href="/UseNotes/MySQL/MySQL主从同步.html">
          MySQL主从同步
        </a>
        →
      </span></p></div> </main> <div class="valine-wrapper" data-v-0162251c><div id="valine" data-v-0162251c></div></div></div> <div class="back-to-ceiling" style="right:1rem;bottom:3rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-d0bfeaa4 data-v-d0bfeaa4><i class="iconfont reco-up" data-v-d0bfeaa4></i></div></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/UseNotes/assets/js/app.df798855.js" defer></script><script src="/UseNotes/assets/js/6.ea8fd82a.js" defer></script><script src="/UseNotes/assets/js/1.d044043e.js" defer></script><script src="/UseNotes/assets/js/42.1de8545e.js" defer></script><script src="/UseNotes/assets/js/7.d0caf8b0.js" defer></script>
  </body>
</html>
